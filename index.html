<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Registro de Gastos</title>

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: #f2f2f7;
  margin: 0;
  padding: 16px;
}

h1 {
  text-align: center;
}

.card {
  background: white;
  border-radius: 16px;
  padding: 16px;
  margin-bottom: 16px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

label {
  font-weight: 600;
  margin-top: 12px;
  display: block;
}

select, button {
  width: 100%;
  padding: 12px;
  font-size: 16px;
  margin-top: 6px;
  border-radius: 10px;
  border: 1px solid #ccc;
}

.monto {
  display: flex;
  gap: 10px;
}

.monto select {
  flex: 1;
}

button {
  background: #007aff;
  color: white;
  border: none;
  margin-top: 20px;
}

button:active {
  background: #005fcc;
}
</style>
</head>

<body>

<h1>ğŸ’¸ Nuevo Gasto</h1>

<div class="card">

<label>ğŸ’µ Monto</label>
<div class="monto">
  <select id="dolares"></select>
  <select id="centavos"></select>
</div>

<label>ğŸ“‚ CategorÃ­a</label>
<select id="categoria"></select>

<label>ğŸ“ SubcategorÃ­a</label>
<select id="subcategoria"></select>

<label>ğŸ‘¤ Beneficiario</label>
<select id="beneficiario">
  <option>Yo</option>
  <option>Familia</option>
  <option>Otros</option>
</select>

<label>ğŸ“ Lugar</label>
<select id="lugar">
  <option>Trabajo</option>
  <option>Casa</option>
  <option>Supermercado</option>
  <option>Restaurante</option>
  <option>Gimnasio</option>
  <option>Otro</option>
</select>

<label>ğŸ’³ Medio de pago</label>
<select id="pago">
  <option>Efectivo</option>
  <option>Tarjeta</option>
  <option>Peigo</option>
  <option>Online-Gye</option>
  <option>Online-Peigo</option>
</select>

<button onclick="guardar()">Guardar gasto</button>

</div>

<script>
/* MONTO */
for(let i=0;i<=500;i++){
  dolares.innerHTML += `<option>${i}</option>`;
}
for(let i=0;i<100;i++){
  centavos.innerHTML += `<option>${i.toString().padStart(2,'0')}</option>`;
}

/* CATEGORÃAS */
const categorias = {
  "ğŸ½ï¸ Comida": ["Almuerzo", "Cena", "CumpleaÃ±os", "Snack"],
  "ğŸš— Transporte": ["Bus", "Taxi", "Gasolina"],
  "ğŸƒ Salud / Deporte": ["Gatorade", "Gimnasio", "Equipo"],
  "ğŸ‰ Social": ["Regalo", "Salida", "Evento"],
  "ğŸ  Hogar": ["Servicios", "Compras", "Mantenimiento"]
};

const cat = document.getElementById("categoria");
const sub = document.getElementById("subcategoria");

for (let c in categorias) {
  cat.innerHTML += `<option>${c}</option>`;
}

function cargarSub() {
  sub.innerHTML = "";
  categorias[cat.value].forEach(s => {
    sub.innerHTML += `<option>${s}</option>`;
  });
}
cat.onchange = cargarSub;
cargarSub();

/* GUARDAR */
function guardar() {
  const gasto = {
    fecha: new Date().toISOString(),
    monto: `${dolares.value}.${centavos.value}`,
    categoria: cat.value,
    subcategoria: sub.value,
    beneficiario: beneficiario.value,
    lugar: lugar.value,
    pago: pago.value
  };

  const data = JSON.parse(localStorage.getItem("gastos") || "[]");
  data.push(gasto);
  localStorage.setItem("gastos", JSON.stringify(data));

  alert("âœ… Gasto guardado");
}
</script>

</body>
</html>
